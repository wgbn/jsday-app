!function(){function t(){var t={restrict:"E",templateUrl:"templates/jsday-comentario.html",scope:{comentario:"="},controller:e};return t}function e(t,e){t.comentario.registro=e.parseDateToStr(t.comentario.registro,!0)}angular.module("jsday").directive("jsdayComentario",t),e.$inject=["$scope","Utils"]}(),function(){function t(){function t(t,e){$("body .jsday-fab").hide(),$("body").on("click",".tab-item",function(t){"Comentários"==t.target.innerHTML?$("body .jsday-fab").show():$("body .jsday-fab").hide()})}var a={restrict:"E",templateUrl:"templates/jsday-fab.html",scope:{icone:"@",acao:"&"},link:t,controller:e};return a}function e(t){t.fabClick=function(){t.acao()}}angular.module("jsday").directive("jsdayFab",t),e.$inject=["$scope"]}(),function(){"use strict";function t(){var t={restrict:"E",templateUrl:"templates/jsday-app-bar.html",scope:{back:"=",acao:"&"},controller:e};return t}function e(t){function e(){t.acao()}t.back=t.back||!1,t.voltarClick=e}angular.module("jsday").directive("jsdayAppBar",t),e.$inject=["$scope"]}(),function(){"use strict";function t(){var t={restrict:"E",templateUrl:"templates/jsday-nova-nota.html",scope:{palestra:"="},controller:e};return t}function e(t,e,a){function o(){a.add(t.palestra,t.texto).then(function(){e.$broadcast("notaAdded",{palestra:t.palestra}),t.texto=""})}t.texto="",t.salvarClick=o}angular.module("jsday").directive("jsdayNovaNota",t),e.$inject=["$scope","$rootScope","noteService"]}(),function(){"use strict";function t(){var t={restrict:"E",templateUrl:"templates/jsday-palestras.html",scope:{palestra:"="},controller:e};return t}function e(t,e,a,o){function n(){t.palestra.servico||e.go("palestra",{key:t.palestra.$id})}t.palestra.horaExtenso=a.parseTimeToStr(t.palestra.hora),t.palestra.trilha=o.getTrilha(t.palestra.trilha),t.palestraClick=n}angular.module("jsday").directive("jsdayPalestras",t),e.$inject=["$scope","$state","Utils","fireService"]}(),function(){"use strict";function t(){function t(t,e,a,o){var n=$(window).height()-55-140-("nota"==t.conteudo?75:0);$(".jsday-sem-conteudo").height(n)}var a={restrict:"E",templateUrl:"templates/jsday-sem-conteudo.html",scope:{conteudo:"@"},link:t,controller:e};return a}function e(t){"nota"==t.conteudo?(t.legenda="Nenhuma nota adicionada",t.icone="img/notas.png"):(t.legenda="Ninguém comentou ainda",t.icone="img/chat.png")}angular.module("jsday").directive("jsdaySemConteudo",t),e.$inject=["$scope"]}(),function(){"use strict";function t(){var t={restrict:"E",templateUrl:"templates/jsday-timeline.html",scope:{palestras:"="},replace:!0,controller:e};return t}function e(t,e,a,o){function n(t){return o.getTrilha(t)}function r(t){return moment(t).format("HH:mm")}function i(){}t.lista=t.palestras,t.getTrilhaNome=n,t.getHora=r,i()}angular.module("jsday").directive("jsdayTimeline",t),e.$inject=["$scope","$state","Utils","fireService"]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzZGF5LWNvbWVudGFyaW8uanMiLCJqc2RheS1mYWIuanMiLCJqc2RheUFwcEJhci5qcyIsImpzZGF5Tm92YU5vdGEuanMiLCJqc2RheVBhbGVzdHJhcy5qcyIsImpzZGF5U2VtQ29udGV1ZG8uanMiLCJqc2RheVRpbWVsaW5lLmpzIl0sIm5hbWVzIjpbImpzZGF5Q29tZW50YXJpbyIsImRpcmVjdGl2ZSIsInJlc3RyaWN0IiwidGVtcGxhdGVVcmwiLCJzY29wZSIsImNvbWVudGFyaW8iLCJjb250cm9sbGVyIiwiY3RybENvbWVudGFyaW8iLCIkc2NvcGUiLCJVdGlscyIsInJlZ2lzdHJvIiwicGFyc2VEYXRlVG9TdHIiLCJhbmd1bGFyIiwibW9kdWxlIiwiJGluamVjdCIsImpzZGF5RmFiIiwibGlua0ZhYiIsImVsIiwiJCIsImhpZGUiLCJvbiIsImUiLCJ0YXJnZXQiLCJpbm5lckhUTUwiLCJzaG93IiwiaWNvbmUiLCJhY2FvIiwibGluayIsImN0cmxGYWIiLCJmYWJDbGljayIsImpzZGF5QXBwQmFyIiwiYmFjayIsImFwcEJhckN0cmwiLCJfdm9sdGFyQ2xpY2siLCJ2b2x0YXJDbGljayIsImpzZGF5Tm92YU5vdGEiLCJwYWxlc3RyYSIsImN0cmxOb3ZhTm90YSIsIiRyb290U2NvcGUiLCJub3RlU2VydmljZSIsIl9zYWx2YXJDbGljayIsImFkZCIsInRleHRvIiwidGhlbiIsIiRicm9hZGNhc3QiLCJzYWx2YXJDbGljayIsImpzZGF5UGFsZXN0cmFzIiwiY3RybFBhbGVzdHJhcyIsIiRzdGF0ZSIsImZpcmVTZXJ2aWNlIiwiX3BhbGVzdHJhQ2xpY2siLCJzZXJ2aWNvIiwiZ28iLCJrZXkiLCIkaWQiLCJob3JhRXh0ZW5zbyIsInBhcnNlVGltZVRvU3RyIiwiaG9yYSIsInRyaWxoYSIsImdldFRyaWxoYSIsInBhbGVzdHJhQ2xpY2siLCJqc2RheVNlbUNvbnRldWRvIiwibGlua1NlbUNvbnRldWRvIiwiYXR0ciIsInZtIiwiYWx0dXJhIiwid2luZG93IiwiaGVpZ2h0IiwiY29udGV1ZG8iLCJjdHJsU2VtQ29udGV1ZG8iLCJsZWdlbmRhIiwianNkYXlUaW1lbGluZSIsInBhbGVzdHJhcyIsInJlcGxhY2UiLCJjdHJsVGltZWxpbmUiLCJfZ2V0VHJpbGhhTm9tZSIsIl90cmlsaGEiLCJfZ2V0SG9yYSIsIl90aW1lc3RhbXAiLCJtb21lbnQiLCJmb3JtYXQiLCJfaW5pdCIsImxpc3RhIiwiZ2V0VHJpbGhhTm9tZSIsImdldEhvcmEiXSwibWFwcGluZ3MiOiJDQUFBLFdBeUJBLFFBQUFBLEtBQ0EsR0FBQUMsSUFDQUMsU0FBQSxJQUNBQyxZQUFBLGtDQUNBQyxPQUNBQyxXQUFBLEtBRUFDLFdBQUFDLEVBR0EsT0FBQU4sR0FVQSxRQUFBTSxHQUFBQyxFQUFBQyxHQUNBRCxFQUFBSCxXQUFBSyxTQUFBRCxFQUFBRSxlQUFBSCxFQUFBSCxXQUFBSyxVQUFBLEdBdENBRSxRQUNBQyxPQUFBLFNBQ0FaLFVBQUEsa0JBQUFELEdBNEJBTyxFQUFBTyxTQUFBLFNBQUEsWUN0Q0EsV0F5QkEsUUFBQUMsS0FjQSxRQUFBQyxHQUFBWixFQUFBYSxHQUNBQyxFQUFBLG1CQUFBQyxPQUVBRCxFQUFBLFFBQUFFLEdBQUEsUUFBQSxZQUFBLFNBQUFDLEdBQ0EsZUFBQUEsRUFBQUMsT0FBQUMsVUFDQUwsRUFBQSxtQkFBQU0sT0FFQU4sRUFBQSxtQkFBQUMsU0FwQkEsR0FBQWxCLElBQ0FDLFNBQUEsSUFDQUMsWUFBQSwyQkFDQUMsT0FDQXFCLE1BQUEsSUFDQUMsS0FBQSxLQUVBQyxLQUFBWCxFQUNBVixXQUFBc0IsRUFHQSxPQUFBM0IsR0FzQkEsUUFBQTJCLEdBQUFwQixHQUNBQSxFQUFBcUIsU0FBQSxXQUNBckIsRUFBQWtCLFFBckRBZCxRQUNBQyxPQUFBLFNBQ0FaLFVBQUEsV0FBQWMsR0EwQ0FhLEVBQUFkLFNBQUEsYUNwREEsV0FDQSxZQThCQSxTQUFBZ0IsS0FDQSxHQUFBN0IsSUFDQUMsU0FBQSxJQUNBQyxZQUFBLCtCQUNBQyxPQUNBMkIsS0FBQSxJQUNBTCxL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ImRpcmVjdGl2ZXMubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7XG5cbiAgICAvKipcbiAgICAqIEBkZXNjcmlwdGlvbiBFeGliZSBjb21lbnTDoXJpb3NcbiAgICAqIEBhdXRob3IgV2FsdGVyIEdhbmRhcmVsbGEgPHdhbHRlci53Z2JuQGdtYWlsLmNvbT5cbiAgICAqIEBtZW1iZXJvZiBqc2RheVxuICAgICogQHZlcnNpb24gMS4wLjBcbiAgICAqL1xuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnanNkYXknKVxuICAgICAgICAuZGlyZWN0aXZlKCdqc2RheUNvbWVudGFyaW8nLCBqc2RheUNvbWVudGFyaW8pO1xuXG4gICAgLyoqXG4gICAgKiBAbWVtYmVyb2YganNkYXlcbiAgICAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAgICAqIEBzY29wZSB7fSAoT3B0aW9ucyBhcmUgdHJ1ZSBmb3IgYSBuZXcgaW5oZXJpdGVkIHNjb3BlLCBmYWxzZSBmb3Igc2hhcmVkIHNjb3BlLCBhbmQgZWl0aGVyIHt9IG9yIG9iamVjdCBmb3IgaXNvbGF0ZSBzY29wZS4pXG4gICAgKiBAcmVzdHJpY3QgRSAoW0VdbGVtZW50LCBbQV10dHJpYnV0ZSwgYW5kIFtDXWxhc3MsIHVzZSBAcmVzdHJpY3QgRUNBKVxuICAgICogQG5hbWUganNkYXlDb21lbnRhcmlvXG4gICAgKiBAcGFyYW0gIHtPYmplY3R9IGNvbWVudGFyaW8gICAgICAgTyBjb21lbnRhcmlvIGEgc2VyIGV4aWJpZG9cbiAgICAqIEBkZXNjcmlwdGlvblxuICAgICogICBFeGliZSB1bSBjb21lbnTDoXJpbyBlbSBmb3JtYSBkZSBjYXJkXG4gICAgKiBAZXhhbXBsZVxuICAgICogICBVc2FnZTpcbiAgICAqICAgPGpzZGF5LWNvbWVudGFyaW8gY29tZW50YXJpbz1cImNvbWVudGFyaW9PYmplY3RcIj48L2pzZGF5LWNvbWVudGFyaW8+XG4gICAgKi9cbiAgICBmdW5jdGlvbiBqc2RheUNvbWVudGFyaW8gKCkge1xuICAgICAgICB2YXIgZGlyZWN0aXZlID0ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGVzL2pzZGF5LWNvbWVudGFyaW8uaHRtbCcsXG4gICAgICAgICAgICBzY29wZToge1xuICAgICAgICAgICAgICAgIGNvbWVudGFyaW86ICc9J1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IGN0cmxDb21lbnRhcmlvXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcbiAgICB9XG5cbiAgICBjdHJsQ29tZW50YXJpby4kaW5qZWN0ID0gWyckc2NvcGUnLCAnVXRpbHMnXTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBsb2dpY2FsIG9mIGpzZGF5Q29tZW50YXJpb1xuICAgICAqIEBtZW1iZXJvZiBqc2RheUNvbWVudGFyaW9cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gJHNjb3BlICAgICAgIEVzY29wbyBkYSBkaXJldGl2YVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN0cmxDb21lbnRhcmlvICgkc2NvcGUsIFV0aWxzKSB7XG4gICAgICAgICRzY29wZS5jb21lbnRhcmlvLnJlZ2lzdHJvID0gVXRpbHMucGFyc2VEYXRlVG9TdHIoJHNjb3BlLmNvbWVudGFyaW8ucmVnaXN0cm8sIHRydWUpO1xuICAgIH1cblxufSkoKTtcbiIsIihmdW5jdGlvbigpe1xuXG4gICAgLyoqXG4gICAgKiBAZGVzY3JpcHRpb24gRmxvYXQgYWN0aW9uYnV0dG9uXG4gICAgKiBAYXV0aG9yIFdhbHRlciBHYW5kYXJlbGxhIDx3YWx0ZXIud2dibkBnbWFpbC5jb20+XG4gICAgKiBAbWVtYmVyb2YganNkYXlcbiAgICAqIEB2ZXJzaW9uIDEuMC4wXG4gICAgKi9cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2pzZGF5JylcbiAgICAgICAgLmRpcmVjdGl2ZSgnanNkYXlGYWInLCBqc2RheUZhYik7XG5cbiAgICAvKipcbiAgICAqIEBtZW1iZXJvZiBqc2RheVxuICAgICogQG5nZG9jIGRpcmVjdGl2ZVxuICAgICogQHNjb3BlIHt9IChPcHRpb25zIGFyZSB0cnVlIGZvciBhIG5ldyBpbmhlcml0ZWQgc2NvcGUsIGZhbHNlIGZvciBzaGFyZWQgc2NvcGUsIGFuZCBlaXRoZXIge30gb3Igb2JqZWN0IGZvciBpc29sYXRlIHNjb3BlLilcbiAgICAqIEByZXN0cmljdCBFIChbRV1sZW1lbnQsIFtBXXR0cmlidXRlLCBhbmQgW0NdbGFzcywgdXNlIEByZXN0cmljdCBFQ0EpXG4gICAgKiBAbmFtZSBqc2RheUZhYlxuICAgICogQHBhcmFtICB7RXhwcmVzc2lvbn0gYWNhbyAgICAgICBGdW7Dp8OjbyBhIHNlciBleGVjdXRhZGEgYW8gY2xpY2FyIG5vIGJvdMOjb1xuICAgICogQGRlc2NyaXB0aW9uXG4gICAgKiAgIEJvdMOjbyBmbHV0dWFudGVcbiAgICAqIEBleGFtcGxlXG4gICAgKiAgIFVzYWdlOlxuICAgICogICA8anNkYXktZmFiIGljb25lPVwiaW9uLXBsdXNcIiBhY2FvPVwiY2xpY2FcIj48L2pzZGF5LWZhYj5cbiAgICAqL1xuICAgIGZ1bmN0aW9uIGpzZGF5RmFiICgpIHtcbiAgICAgICAgdmFyIGRpcmVjdGl2ZSA9IHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlcy9qc2RheS1mYWIuaHRtbCcsXG4gICAgICAgICAgICBzY29wZToge1xuICAgICAgICAgICAgICAgIGljb25lOiAnQCcsXG4gICAgICAgICAgICAgICAgYWNhbzogJyYnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbGluazogbGlua0ZhYixcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IGN0cmxGYWJcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gZGlyZWN0aXZlO1xuXG4gICAgICAgIGZ1bmN0aW9uIGxpbmtGYWIgKHNjb3BlLCBlbCkge1xuICAgICAgICAgICAgJCgnYm9keSAuanNkYXktZmFiJykuaGlkZSgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAkKCdib2R5Jykub24oJ2NsaWNrJywgJy50YWItaXRlbScsIGZ1bmN0aW9uKGUpe1xuICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5pbm5lckhUTUwgPT0gJ0NvbWVudMOhcmlvcycpe1xuICAgICAgICAgICAgICAgICAgICAkKCdib2R5IC5qc2RheS1mYWInKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnYm9keSAuanNkYXktZmFiJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY3RybEZhYi4kaW5qZWN0ID0gWyckc2NvcGUnXTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBsb2dpY2FsIG9mIGpzZGF5RmFiXG4gICAgICogQG1lbWJlcm9mIGpzZGF5RmFiXG4gICAgICogQHBhcmFtIHtPYmplY3R9ICRzY29wZSAgICAgICBFc2NvcG8gZGEgZGlyZXRpdmFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdHJsRmFiICgkc2NvcGUpIHtcbiAgICAgICAgJHNjb3BlLmZhYkNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJHNjb3BlLmFjYW8oKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKXtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBEaXJlY3RpdmEgcGFyYSBhIGJhcnJhIGRlIHRpdHVsbyBkbyBhcHBcbiAgICAgKiBAYXV0aG9yIFdhbHRlciBHYW5kYXJlbGxhIDx3YWx0ZXIud2dibkBnbWFpbC5jb20+XG4gICAgICogQG1lbWJlcm9mIGpzZGF5XG4gICAgICogQHZlcnNpb24gMS4wLjBcbiAgICAgKi9cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2pzZGF5JylcbiAgICAgICAgLmRpcmVjdGl2ZSgnanNkYXlBcHBCYXInLCBqc2RheUFwcEJhcik7XG5cbiAgICAvKipcbiAgICAgKiBAbWVtYmVyb2YganNkYXlcbiAgICAgKiBAbmdkb2MgZGlyZWN0aXZlXG4gICAgICogQHNjb3BlIHt9XG4gICAgICogQHJlc3RyaWN0IEVcbiAgICAgKiBAbmFtZSBqc2RheUFwcEJhclxuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqICAgRXhpYmUgdW1hIGJhcnJhIGNvbXVtIHF1ZSBwb2RlIG91IG7Do28gY29udGFyIHVtIGJvdMOjbyB2b2x0YXJcbiAgICAgKlxuICAgICAqIEBhdHRyIHtCb29sZWFufSBiYWNrIEZsYWcgcXVlIGF0aXZhIG91IG7Do28gbyBib3TDo28gdm9sdGFyIFt0cnVlfGZhbHNlXVxuICAgICAqIEBhdHRyIHtFeHByZXNzaW9ufSBhY2FvIEZ1bsOnw6NvIHF1ZSBzZXLDoSBleGVjdXRhZGEgYW8gY2xpY2FyIG5vIGJvdMOjbyB2b2x0YXJcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogICBVc2FnZTpcbiAgICAgKiAgIDxqc2RheS1hcHAtYmFyIGJhY2s9XCJmYWxzZVwiPjwvanNkYXktYXBwLWJhcj5cbiAgICAgKlxuICAgICAqICAgPGpzZGF5LWFwcC1iYXIgYmFjaz1cInRydWVcIiBhY2FvPVwiZnVuYygpXCI+PC9qc2RheS1hcHAtYmFyPlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGpzZGF5QXBwQmFyICgpIHtcbiAgICAgICAgdmFyIGRpcmVjdGl2ZSA9IHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlcy9qc2RheS1hcHAtYmFyLmh0bWwnLFxuICAgICAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICAgICAgICBiYWNrOiAnPScsXG4gICAgICAgICAgICAgICAgYWNhbzogJyYnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29udHJvbGxlcjogYXBwQmFyQ3RybFxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBkaXJlY3RpdmU7XG4gICAgfVxuXG4gICAgYXBwQmFyQ3RybC4kaW5qZWN0ID0gWyckc2NvcGUnXTtcblxuICAgIC8qKlxuICAgICAqIEzDs2dpY2EgZGEgZGlyZXRpdmEganNkYXlBcHBCYXJcbiAgICAgKiBAbWVtYmVyb2YganNkYXlBcHBCYXJcbiAgICAgKiBAcGFyYW0ge3NlcnZpY2V9ICRzY29wZSAgRXNjb3BvIGRvIGNvbnRyb2xsZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcHBCYXJDdHJsICgkc2NvcGUpIHtcbiAgICAgICAgJHNjb3BlLmJhY2sgPSAkc2NvcGUuYmFjayB8fCBmYWxzZTtcbiAgICAgICAgJHNjb3BlLnZvbHRhckNsaWNrID0gX3ZvbHRhckNsaWNrO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGdW7Dp8OjbyBxdWUgY2FwdHVyYSBvIGNsaXF1ZSBubyBib3TDo28gdm9sdGFyIGUgZGVsZWdhIHBhcmEgYSBmdW7Dp8OjbyBwYXNzYWRhIG5vIGVzY29wb1xuICAgICAgICAgKiBAbWVtYmVyb2YganNkYXlBcHBCYXJcbiAgICAgICAgICogQGZ1bmN0aW9uIF92b2x0YXJDbGlja1xuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gX3ZvbHRhckNsaWNrICgpIHtcbiAgICAgICAgICAgICRzY29wZS5hY2FvKCk7XG4gICAgICAgIH1cbiAgICB9XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCl7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gRGlyZWN0aXZhIHF1ZSBjcmlhIG5vdmFzIG5vdGFzXG4gICAgICogQGF1dGhvciBXYWx0ZXIgR2FuZGFyZWxsYSA8d2FsdGVyLndnYm5AZ21haWwuY29tPlxuICAgICAqIEBtZW1iZXJvZiBqc2RheVxuICAgICAqIEB2ZXJzaW9uIDEuMC4wXG4gICAgICovXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdqc2RheScpXG4gICAgICAgIC5kaXJlY3RpdmUoJ2pzZGF5Tm92YU5vdGEnLCBqc2RheU5vdmFOb3RhKTtcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXJvZiBqc2RheVxuICAgICAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAgICAgKiBAc2NvcGUge31cbiAgICAgKiBAcmVzdHJpY3QgRVxuICAgICAqIEBuYW1lIGpzZGF5U2VtQ29udGV1ZG9cbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiAgIEV4aWJlIHVtYSBjYWl4YSBvbmRlIG8gdXN1w6FyaW8gcG9kZSBjcmlhciB1bWEgbm92YSBub3RhXG4gICAgICpcbiAgICAgKiBAYXR0ciB7U3RyaW5nfSBwYWxlc3RyYSBBIGNoYXZlIChrZXkpIGRhIHBhbGVzdHJhIGEgcXVlIGEgbm90YSBwZXJ0ZW5jZVxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAgIFVzYWdlOlxuICAgICAqICAgPGpzZGF5LW5vdmEtbm90YSBwYWxlc3RyYT1cImtleVwiPjwvanNkYXktbm92YS1ub3RhPlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGpzZGF5Tm92YU5vdGEgKCkge1xuICAgICAgICB2YXIgZGlyZWN0aXZlID0ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGVzL2pzZGF5LW5vdmEtbm90YS5odG1sJyxcbiAgICAgICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICAgICAgcGFsZXN0cmE6ICc9J1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IGN0cmxOb3ZhTm90YVxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBkaXJlY3RpdmU7XG4gICAgfVxuXG4gICAgY3RybE5vdmFOb3RhLiRpbmplY3QgPSBbJyRzY29wZScsICckcm9vdFNjb3BlJywgJ25vdGVTZXJ2aWNlJ107XG5cbiAgICAvKipcbiAgICAgKiBMw7NnaWNhIGRhIGRpcmV0aXZhIGpzZGF5Tm92YU5vdGFcbiAgICAgKiBAbWVtYmVyb2YganNkYXlOb3ZhTm90YVxuICAgICAqIEBwYXJhbSB7c2VydmljZX0gJHNjb3BlICBFc2NvcG8gZG8gY29udHJvbGxlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN0cmxOb3ZhTm90YSAoJHNjb3BlLCAkcm9vdFNjb3BlLCBub3RlU2VydmljZSkge1xuICAgICAgICAkc2NvcGUudGV4dG8gPSBcIlwiO1xuICAgICAgICAkc2NvcGUuc2FsdmFyQ2xpY2sgPSBfc2FsdmFyQ2xpY2s7XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGdW7Dp8OjbyBxdWUgY2FwdHVyYSBvIGNsaXF1ZSBkYSBjYWl4YSBlIHNhbHZhIGEgbm90YSBubyBiYW5jbyBsb2NhbFxuICAgICAgICAgKiBAbWVtYmVyb2YganNkYXlOb3ZhTm90YVxuICAgICAgICAgKiBAZnVuY3Rpb24gX3NhbHZhckNsaWNrXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBfc2FsdmFyQ2xpY2sgKCkge1xuICAgICAgICAgICAgbm90ZVNlcnZpY2UuYWRkKCRzY29wZS5wYWxlc3RyYSwgJHNjb3BlLnRleHRvKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdub3RhQWRkZWQnLCB7cGFsZXN0cmE6ICRzY29wZS5wYWxlc3RyYX0pO1xuICAgICAgICAgICAgICAgICAgICAkc2NvcGUudGV4dG8gPSBcIlwiO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCl7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gRGlyZWN0aXZhIHF1ZSBleGliZSBhIGxpc3RhIGRlIHBhbGVzdHJhc1xuICAgICAqIEBhdXRob3IgV2FsdGVyIEdhbmRhcmVsbGEgPHdhbHRlci53Z2JuQGdtYWlsLmNvbT5cbiAgICAgKiBAbWVtYmVyb2YganNkYXlcbiAgICAgKiBAdmVyc2lvbiAxLjAuMFxuICAgICAqL1xuICAgIGFuZ3VsYXJcbiAgICAgICAgLm1vZHVsZSgnanNkYXknKVxuICAgICAgICAuZGlyZWN0aXZlKCdqc2RheVBhbGVzdHJhcycsIGpzZGF5UGFsZXN0cmFzKTtcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXJvZiBqc2RheVxuICAgICAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAgICAgKiBAc2NvcGUge31cbiAgICAgKiBAcmVzdHJpY3QgRVxuICAgICAqIEBuYW1lIGpzZGF5UGFsZXN0cmFzXG4gICAgICogQGRlc2NyaXB0aW9uXG4gICAgICogICBFeGliZSB1bWEgcGFsZXN0cmEgbmEgdGltZWxpbmUgZG8gZXZlbnRvXG4gICAgICpcbiAgICAgKiBAYXR0ciB7T2JqZWN0fSBwYWxlc3RyYSBPIG9iamV0byBxdWUgcmVwcmVzZW50YSBhIHBhbGVzdHJhIGEgc2VyIGV4aWJpZGFcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogICBVc2FnZTpcbiAgICAgKiAgIDxqc2RheS1wYWxlc3RyYXMgcGFsZXN0cmE9XCJwYWxlc3RyYVwiPjwvanNkYXktcGFsZXN0cmFzPlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGpzZGF5UGFsZXN0cmFzICgpIHtcbiAgICAgICAgdmFyIGRpcmVjdGl2ZSA9IHtcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlcy9qc2RheS1wYWxlc3RyYXMuaHRtbCcsXG4gICAgICAgICAgICBzY29wZToge1xuICAgICAgICAgICAgICAgIHBhbGVzdHJhOiAnPSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb250cm9sbGVyOiBjdHJsUGFsZXN0cmFzXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZTtcbiAgICB9XG5cbiAgICBjdHJsUGFsZXN0cmFzLiRpbmplY3QgPSBbJyRzY29wZScsICckc3RhdGUnLCAnVXRpbHMnLCAnZmlyZVNlcnZpY2UnXTtcblxuICAgIC8qKlxuICAgICAqIEzDs2dpY2EgZGEgZGlyZXRpdmEganNkYXlQYWxlc3RyYXNcbiAgICAgKiBAbWVtYmVyb2YganNkYXlQYWxlc3RyYXNcbiAgICAgKiBAcGFyYW0ge3NlcnZpY2V9ICRzY29wZSAgRXNjb3BvIGRvIGNvbnRyb2xsZXJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdHJsUGFsZXN0cmFzICgkc2NvcGUsICRzdGF0ZSwgVXRpbHMsIGZpcmVTZXJ2aWNlKSB7XG4gICAgICAgICRzY29wZS5wYWxlc3RyYS5ob3JhRXh0ZW5zbyA9IFV0aWxzLnBhcnNlVGltZVRvU3RyKCRzY29wZS5wYWxlc3RyYS5ob3JhKTtcbiAgICAgICAgJHNjb3BlLnBhbGVzdHJhLnRyaWxoYSA9IGZpcmVTZXJ2aWNlLmdldFRyaWxoYSgkc2NvcGUucGFsZXN0cmEudHJpbGhhKTtcbiAgICAgICAgJHNjb3BlLnBhbGVzdHJhQ2xpY2sgPSBfcGFsZXN0cmFDbGljaztcblxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGdW7Dp8OjbyBxdWUgY2FwdHVyYSBvIGNsaXF1ZSBuYSBwYWxlc3RyYSBlIGV4aWJlIGEgcMOhZ2luYSBkZSBkZXRhbGhlcyBkYSBtZXNtYVxuICAgICAgICAgKiBAbWVtYmVyb2YganNkYXlQYWxlc3RyYXNcbiAgICAgICAgICogQGZ1bmN0aW9uIF9wYWxlc3RyYUNsaWNrXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBfcGFsZXN0cmFDbGljayAoKSB7XG4gICAgICAgICAgICBpZiAoISRzY29wZS5wYWxlc3RyYS5zZXJ2aWNvKVxuICAgICAgICAgICAgICAgICRzdGF0ZS5nbygncGFsZXN0cmEnLCB7a2V5OiAkc2NvcGUucGFsZXN0cmEuJGlkfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKXtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBEaXJlY3RpdmEgZGUgVGVsYSBkZSBmdW5kbyBkb3MgY29udGXDumRvcyB2YXppb3NcbiAgICAgKiBAYXV0aG9yIFdhbHRlciBHYW5kYXJlbGxhIDx3YWx0ZXIud2dibkBnbWFpbC5jb20+XG4gICAgICogQG1lbWJlcm9mIGpzZGF5XG4gICAgICogQHZlcnNpb24gMS4wLjBcbiAgICAgKi9cbiAgICBhbmd1bGFyXG4gICAgICAgIC5tb2R1bGUoJ2pzZGF5JylcbiAgICAgICAgLmRpcmVjdGl2ZSgnanNkYXlTZW1Db250ZXVkbycsIGpzZGF5U2VtQ29udGV1ZG8pO1xuXG4gICAgLyoqXG4gICAgICogQG1lbWJlcm9mIGpzZGF5XG4gICAgICogQG5nZG9jIGRpcmVjdGl2ZVxuICAgICAqIEBzY29wZSB7fVxuICAgICAqIEByZXN0cmljdCBFXG4gICAgICogQG5hbWUganNkYXlTZW1Db250ZXVkb1xuICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAqICAgRXhpYmUgdW0gZnVuZG8gYW1pZ8OhdmVsIHBhcmEgdGVsYXMgcXVlIGFpbmRhIG7Do28gcmVjZWJlcmFtIGNvbnRlw7pkb1xuICAgICAqXG4gICAgICogQGF0dHIge1N0cmluZ30gY29udGV1ZG8gTyB0aXBvIGRlIHRlbGEgcXVlIHJlY2ViZXLDoSBhIGRpcmV0aXZhIFtub3RhfGNvbWVudGFyaW9dXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqICAgVXNhZ2U6XG4gICAgICogICA8anNkYXktc2VtLWNvbnRldWRvIGNvbnRldWRvPVwibm90YVwiPjwvanNkYXktc2VtLWNvbnRldWRvPlxuICAgICAqXG4gICAgICogICA8anNkYXktc2VtLWNvbnRldWRvIGNvbnRldWRvPVwiY29tZW50YXJpb1wiPjwvanNkYXktc2VtLWNvbnRldWRvPlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGpzZGF5U2VtQ29udGV1ZG8gKCkge1xuICAgICAgICB2YXIgZGlyZWN0aXZlID0ge1xuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGVzL2pzZGF5LXNlbS1jb250ZXVkby5odG1sJyxcbiAgICAgICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICAgICAgY29udGV1ZG86ICdAJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxpbms6IGxpbmtTZW1Db250ZXVkbyxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IGN0cmxTZW1Db250ZXVkb1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBkaXJlY3RpdmU7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluaWNpYWxpemEgYSBkaXJldGl2YSBwYXJhIG1hbmlwdWxhciBvIERPTVxuICAgICAgICAgKiBAbWVtYmVyb2YganNkYXlTZW1Db250ZXVkb1xuICAgICAgICAgKiBAcGFyYW0ge3NlcnZpY2V9IHNjb3BlIHRoZSBzY29wZSBvZiB0aGlzIGVsZW1lbnRcbiAgICAgICAgICogQHBhcmFtIHtzZXJ2aWNlfSBlbCBlbGVtZW50IHRoYXQgdGhpcyBkaXJlY2l2ZSBpcyBhc3NpZ25lZCB0b1xuICAgICAgICAgKiBAcGFyYW0ge3NlcnZpY2V9ICAgYXR0ciBhdHRyaWJ1dGUgb2YgdGhpcyBlbGVtZW50XG4gICAgICAgICAqIEBwYXJhbSB7Y29udHJvbGxlcn0gdm0gbWFwIGNvbnRyb2xsZXJcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGxpbmtTZW1Db250ZXVkbyAoc2NvcGUsIGVsLCBhdHRyLCB2bSkge1xuICAgICAgICAgICAgdmFyIGFsdHVyYSA9ICQod2luZG93KS5oZWlnaHQoKSAtIDU1IC0gMTQwIC0gKHNjb3BlLmNvbnRldWRvID09ICdub3RhJyA/IDc1IDogMCk7XG4gICAgICAgICAgICAkKCcuanNkYXktc2VtLWNvbnRldWRvJykuaGVpZ2h0KGFsdHVyYSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjdHJsU2VtQ29udGV1ZG8uJGluamVjdCA9IFsnJHNjb3BlJ107XG5cbiAgICAvKipcbiAgICAgKiBMw7NnaWNhIGRhIGRpcmV0aXZhIGpzZGF5U2VtQ29udGV1ZG9cbiAgICAgKiBAbWVtYmVyb2YganNkYXlTZW1Db250ZXVkb1xuICAgICAqIEBwYXJhbSB7c2VydmljZX0gJHNjb3BlICBFc2NvcG8gZG8gY29udHJvbGxlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN0cmxTZW1Db250ZXVkbyAoJHNjb3BlKSB7XG4gICAgICAgIGlmICgkc2NvcGUuY29udGV1ZG8gPT0gJ25vdGEnKXtcbiAgICAgICAgICAgICRzY29wZS5sZWdlbmRhID0gXCJOZW5odW1hIG5vdGEgYWRpY2lvbmFkYVwiO1xuICAgICAgICAgICAgJHNjb3BlLmljb25lID0gXCJpbWcvbm90YXMucG5nXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkc2NvcGUubGVnZW5kYSA9IFwiTmluZ3XDqW0gY29tZW50b3UgYWluZGFcIjtcbiAgICAgICAgICAgICRzY29wZS5pY29uZSA9IFwiaW1nL2NoYXQucG5nXCI7XG4gICAgICAgIH1cbiAgICB9XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKXtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIC8qKlxuICAgICAqIEBkZXNjcmlwdGlvbiBEaXJlY3RpdmEgcXVlIGV4aWJlIGEgbGlzdGEgZGUgcGFsZXN0cmFzIGVtIGZvcm1hIGRlIHRpbWVsaW5lXG4gICAgICogQGF1dGhvciBXYWx0ZXIgR2FuZGFyZWxsYSA8d2FsdGVyLndnYm5AZ21haWwuY29tPlxuICAgICAqIEBtZW1iZXJvZiBqc2RheVxuICAgICAqIEB2ZXJzaW9uIDEuMC4wXG4gICAgICovXG4gICAgYW5ndWxhclxuICAgICAgICAubW9kdWxlKCdqc2RheScpXG4gICAgICAgIC5kaXJlY3RpdmUoJ2pzZGF5VGltZWxpbmUnLCBqc2RheVRpbWVsaW5lKTtcblxuICAgIC8qKlxuICAgICAqIEBtZW1iZXJvZiBqc2RheVxuICAgICAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAgICAgKiBAc2NvcGUge31cbiAgICAgKiBAcmVzdHJpY3QgRVxuICAgICAqIEBuYW1lIGpzZGF5VGltZWxpbmVcbiAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgKiAgIEV4aWJlIHVtYSBwYWxlc3RyYSBuYSB0aW1lbGluZSBkbyBldmVudG9cbiAgICAgKlxuICAgICAqIEBhdHRyIHtPYmplY3R9IHBhbGVzdHJhIE8gb2JqZXRvIHF1ZSByZXByZXNlbnRhIGEgcGFsZXN0cmEgYSBzZXIgZXhpYmlkYVxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAgIFVzYWdlOlxuICAgICAqICAgPGpzZGF5LXRpbWVsaW5lIHBhbGVzdHJhcz1cInBhbGVzdHJhc1wiPjwvanNkYXktdGltZWxpbmU+XG4gICAgICovXG4gICAgZnVuY3Rpb24ganNkYXlUaW1lbGluZSAoKSB7XG4gICAgICAgIHZhciBkaXJlY3RpdmUgPSB7XG4gICAgICAgICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZXMvanNkYXktdGltZWxpbmUuaHRtbCcsXG4gICAgICAgICAgICBzY29wZToge1xuICAgICAgICAgICAgICAgIHBhbGVzdHJhczogJz0nXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVwbGFjZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IGN0cmxUaW1lbGluZVxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBkaXJlY3RpdmU7XG4gICAgfVxuXG4gICAgY3RybFRpbWVsaW5lLiRpbmplY3QgPSBbJyRzY29wZScsICckc3RhdGUnLCAnVXRpbHMnLCAnZmlyZVNlcnZpY2UnXTtcblxuICAgIC8qKlxuICAgICAqIEzDs2dpY2EgZGEgZGlyZXRpdmEganNkYXlQYWxlc3RyYXNcbiAgICAgKiBAbWVtYmVyb2YganNkYXlUaW1lbGluZVxuICAgICAqIEBwYXJhbSB7c2VydmljZX0gJHNjb3BlICBFc2NvcG8gZG8gY29udHJvbGxlclxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN0cmxUaW1lbGluZSAoJHNjb3BlLCAkc3RhdGUsIFV0aWxzLCBmaXJlU2VydmljZSkge1xuICAgICAgICAvLyBiaW5kaW5nc1xuICAgICAgICAkc2NvcGUubGlzdGEgPSAkc2NvcGUucGFsZXN0cmFzO1xuXG4gICAgICAgIC8vIGHDp8O1ZXNcbiAgICAgICAgJHNjb3BlLmdldFRyaWxoYU5vbWUgPSBfZ2V0VHJpbGhhTm9tZTtcbiAgICAgICAgJHNjb3BlLmdldEhvcmEgPSBfZ2V0SG9yYTtcblxuICAgICAgICAvLyBpbml0XG4gICAgICAgIF9pbml0KCk7XG5cbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuICAgICAgICAvKipcbiAgICAgICAgICogRnVuw6fDo28gcXVlIGNhcHR1cmEgbyBjbGlxdWUgbmEgcGFsZXN0cmEgZSBleGliZSBhIHDDoWdpbmEgZGUgZGV0YWxoZXMgZGEgbWVzbWFcbiAgICAgICAgICogQG1lbWJlcm9mIGpzZGF5VGltZWxpbmVcbiAgICAgICAgICogQGZ1bmN0aW9uIF9wYWxlc3RyYUNsaWNrXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBfcGFsZXN0cmFDbGljayAoKSB7XG4gICAgICAgICAgICAvKmlmICghJHNjb3BlLnBhbGVzdHJhLnNlcnZpY28pXG4gICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdwYWxlc3RyYScsIHtrZXk6ICRzY29wZS5wYWxlc3RyYS4kaWR9KTsqL1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZ1bsOnw6NvIHF1ZSBww6lnYSBvIG5vbWUgZGEgdHJpbGhhXG4gICAgICAgICAqIEBtZW1iZXJvZiBqc2RheVRpbWVsaW5lXG4gICAgICAgICAqIEBmdW5jdGlvbiBfZ2V0VHJpbGhhTm9tZVxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gX3RyaWxoYVxuICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBUcmlsaGFcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIF9nZXRUcmlsaGFOb21lIChfdHJpbGhhKSB7XG4gICAgICAgICAgICByZXR1cm4gZmlyZVNlcnZpY2UuZ2V0VHJpbGhhKF90cmlsaGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldG9ybmEgYSBob3JhIGZvcm1hdGFkYVxuICAgICAgICAgKiBAbWVtYmVyb2YganNkYXlUaW1lbGluZVxuICAgICAgICAgKiBAZnVuY3Rpb24gX2dldEhvcmFcbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IF90aW1lc3RhbXBcbiAgICAgICAgICogQHJldHVybnMge1N0cmluZ30gaG9yYVxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gX2dldEhvcmEgKF90aW1lc3RhbXApIHtcbiAgICAgICAgICAgIHJldHVybiBtb21lbnQoX3RpbWVzdGFtcCkuZm9ybWF0KCdISDptbScpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZ1bsOnw6NvIHF1ZSBpbmljaWFsaXphIG8gY29udHJvbGxlclxuICAgICAgICAgKiBAbWVtYmVyb2YganNkYXlUaW1lbGluZVxuICAgICAgICAgKiBAZnVuY3Rpb24gX2luaXRcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIF9pbml0ICgpIHtcbiAgICAgICAgICAgIC8vXG4gICAgICAgIH1cbiAgICB9XG5cbn0pKCk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
